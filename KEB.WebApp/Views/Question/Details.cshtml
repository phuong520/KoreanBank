@model KEB.Application.DTOs.QuestionDTO.QuestionDetailDto

<div class="container">
    <div class="row mt-4">
        <!-- Left side - Question details -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-light">
                    <h5>Chi tiết câu hỏi</h5>
                </div>
                <div class="card-body">
                    <div class="question-content">
                        <p class="font-weight-bold">@Model.QuestionContent</p>

                        @if (Model.Answers != null)
                        {
                            <div class="options-list mt-3">
                                @if (Model.Answers != null && Model.Answers.Any())
                                {
                                    int index = 0;
                                    foreach (var answer in Model.Answers)
                                    {
                                        var label = ((char)('A' + index)).ToString();
                                        <div class="mb-1">
                                            <strong>@label.</strong> @answer.Content
                                        </div>
                                        index++;
                                    }
                                }
                                else
                                {
                                    <p class="text-danger">Không có đáp án nào.</p>
                                }
                            </div>
                        }
                    </div>

                    @if (Model.AttachmentUrl != null)
                    {
                        <div class="attachments mt-4">
                            <h6>Tệp đính kèm:</h6>
                            @* <div class="attachment-container border p-2"> *@
                            @*     @foreach (var attachment in Model.AttachmentUrl) *@
                            @*     { *@
                            @*         if (attachment.IsImage) *@
                            @*         { *@
                            @*             <div class="text-center"> *@
                            @*                 <img src="@attachment.Url" class="img-fluid attachment-image" alt="Question attachment" /> *@
                            @*             </div> *@
                            @*         } *@
                            @*         else *@
                            @*         { *@
                            @*             <div class="attachment-item"> *@
                            @*                 <i class="fa fa-file"></i> *@
                            @*                 <a href="@attachment.Url" target="_blank">@attachment.FileName</a> *@
                            @*             </div> *@
                            @*         } *@
                            @*     } *@
                            @* </div> *@
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Right side - Question metadata -->
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <table class="table table-borderless metadata-table">
                        <tbody>
                            <tr>
                                <td class="text-primary font-weight-bold" style="width: 40%;">Trình độ:</td>
                                <td>@Model.LevelName</td>
                            </tr>
                            <tr>
                                <td class="text-primary font-weight-bold">Kỹ năng:</td>
                                <td>@Model.SkillName</td>
                            </tr>
                            <tr>
                                <td class="text-primary font-weight-bold">Dạng câu hỏi:</td>
                                <td>@Model.QuestionTypeName</td>
                            </tr>
                            <tr>
                                <td class="text-primary font-weight-bold">Mức độ:</td>
                                <td>@Model.Difficulty</td>
                            </tr>
                            <tr>
                                <td class="text-primary font-weight-bold">Nguồn tham khảo:</td>
                                <td>@Model.ReferenceName</td>
                            </tr>
                            <tr>
                                <td class="text-primary font-weight-bold">Chủ đề:</td>
                                <td>@Model.TopicName</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="mt-3 text-center">
                <a href="@Url.Action("Index", "Questions")" class="btn btn-secondary">Quay lại</a>
            </div>
        </div>
    </div>
</div>

<style>
        .metadata-table td {
            padding: 8px 4px;
            vertical-align: middle;
        }

        .option-item {
            margin-bottom: 8px;
        }

        .attachment-image {
            max-width: 100%;
            max-height: 300px;
            border: 1px solid #ddd;
        }

        .attachment-container {
            background-color: #f9f9f9;
        }
    </st